{% comment %}
  List-collections page — High-End Editorial Fashion / Dark theme
  https://shopify.dev/docs/storefronts/themes/architecture/templates/list-collections
{% endcomment %}

{% comment %} ── PAGE HEADER ─────────────────────────────────────────────── {% endcomment %}
<header class="colls-page-header full-width">
  <p class="colls-page-header__eyebrow">{{ 'collections.page_eyebrow' | t }}</p>
  <h1 class="colls-page-header__title">{{ 'collections.title' | t }}</h1>
</header>

{% comment %} ── COLLECTIONS GRID ────────────────────────────────────────── {% endcomment %}
<section class="colls-grid full-width" aria-label="{{ 'collections.title' | t }}">
  {% for collection in collections %}
    <a class="colls-card" href="{{ collection.url }}">

      {% comment %} ── Photo ─────────────────────────────────────────────── {% endcomment %}
      <div class="colls-card__media">
        {% if collection.featured_image %}
          {{ collection.featured_image
            | image_url: width: 1600, height: 2000, crop: 'center'
            | image_tag:
              class: 'colls-card__img',
              loading: 'lazy',
              widths: '600, 900, 1200, 1600',
              sizes: '(max-width: 640px) 100vw, 50vw'
          }}
        {% else %}
          <div class="colls-card__img colls-card__img--empty"></div>
        {% endif %}
      </div>

      {% comment %} ── Info ──────────────────────────────────────────────── {% endcomment %}
      <div class="colls-card__body">
        <h2 class="colls-card__name">{{ collection.title | escape }}</h2>

        {% if collection.description != blank %}
          <p class="colls-card__desc">
            {{ collection.description | strip_html | truncatewords: 18 }}
          </p>
        {% endif %}

        <span class="colls-card__cta">{{ 'collections.view_collection' | t }}</span>
      </div>

    </a>
  {% endfor %}
</section>

{% stylesheet %}
  /* ── Palette ─────────────────────────────────────────── */
  .colls-page-header,
  .colls-grid {
    --bg:    #0a0a09;
    --cream: #f0ede5;
    --muted: rgba(240, 237, 229, 0.5);
    --serif: var(--font-heading--family, "Playfair Display", Georgia, serif);
    --sans:  var(--font-body--family,    "Work Sans", system-ui, sans-serif);
  }

  /* ── PAGE HEADER ─────────────────────────────────────── */
  .colls-page-header {
    background: var(--bg);
    color: var(--cream);
    padding: clamp(7rem, 15vw, 13rem) clamp(1.5rem, 6vw, 6rem) clamp(2.5rem, 4vw, 4rem);
  }

  .colls-page-header__eyebrow {
    font-family: var(--sans);
    font-size: 0.64rem;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 1.1rem;
  }

  .colls-page-header__title {
    font-family: var(--serif);
    font-weight: 300;
    font-size: clamp(3.2rem, 9vw, 8rem);
    line-height: 0.9;
    letter-spacing: -0.025em;
    color: var(--cream);
  }

  /* ── GRID ────────────────────────────────────────────── */
  .colls-grid {
    background: var(--bg);
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 6rem 4rem;
    padding: 0 clamp(1.5rem, 6vw, 6rem) clamp(5rem, 10vw, 9rem);
  }

  /* ── CARD ────────────────────────────────────────────── */
  .colls-card {
    display: flex;
    flex-direction: column;
    text-decoration: none;
    color: var(--cream);
    background: transparent;
  }

  /* ── PHOTO ───────────────────────────────────────────── */
  .colls-card__media {
    overflow: hidden;
    aspect-ratio: 4 / 5;
    flex-shrink: 0;
  }

  .colls-card__img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: saturate(0.8) contrast(1.06);
    transition: transform 700ms cubic-bezier(0.22, 1, 0.36, 1), filter 500ms ease;
  }

  .colls-card:hover .colls-card__img {
    transform: scale(1.04);
    filter: saturate(0.95) contrast(1.02);
  }

  .colls-card__img--empty {
    width: 100%;
    height: 100%;
    background: linear-gradient(150deg, #1a1a18 0%, #2c2c29 100%);
  }

  /* ── BODY (below photo) ──────────────────────────────── */
  .colls-card__body {
    padding: clamp(1.4rem, 3vw, 2.5rem) clamp(1.2rem, 3vw, 2.5rem) clamp(1.8rem, 3.5vw, 3rem);
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .colls-card__name {
    font-family: var(--serif);
    font-weight: 300;
    font-size: clamp(1.6rem, 2.8vw, 2.6rem);
    line-height: 1.05;
    letter-spacing: -0.01em;
  }

  .colls-card__desc {
    font-family: var(--sans);
    font-size: 0.82rem;
    line-height: 1.7;
    color: var(--muted);
    max-width: 36ch;
  }

  .colls-card__cta {
    display: inline-block;
    margin-top: 0.4rem;
    font-family: var(--sans);
    font-size: 0.62rem;
    letter-spacing: 0.26em;
    text-transform: uppercase;
    color: var(--cream);
    border-bottom: 1px solid rgba(240, 237, 229, 0.35);
    padding-bottom: 3px;
    width: fit-content;
    transition: border-color 250ms ease, color 250ms ease;
  }

  .colls-card:hover .colls-card__cta {
    border-color: var(--cream);
    color: #fff;
  }

  /* ── RESPONSIVE ──────────────────────────────────────── */
  @media (max-width: 780px) {
    .colls-grid {
      grid-template-columns: 1fr;
    }

    .colls-card__media {
      aspect-ratio: 3 / 4;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:general.collections_grid",
  "settings": [
    {
      "type": "url",
      "id": "shop_url",
      "label": "t:collection.shop_url_label"
    }
  ],
  "presets": [{ "name": "t:general.collections_grid" }]
}
{% endschema %}
