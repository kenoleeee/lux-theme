{% comment %}
  404 page — High-End Editorial Fashion / Dark theme
{% endcomment %}

<div class="e404 full-width">

  {% if section.settings.background_image %}
    <div class="e404__bg" aria-hidden="true">
      {{ section.settings.background_image
        | image_url: width: 2400
        | image_tag:
          class: 'e404__bg-img',
          loading: 'eager',
          widths: '800, 1400, 2000, 2400',
          sizes: '100vw'
      }}
    </div>
  {% endif %}

  <div class="e404__grain" aria-hidden="true"></div>

  <div class="e404__body">
    <p class="e404__code">404</p>
    <p class="e404__label">{{ 'errors.404.label' | t }}</p>
    <a class="e404__cta" href="{{ routes.root_url }}">{{ 'errors.404.cta' | t }}</a>
  </div>

</div>

{% stylesheet %}
  .e404 {
    --bg:    #0a0a09;
    --cream: #f0ede5;
    --serif: var(--font-heading--family, "Playfair Display", Georgia, serif);
    --sans:  var(--font-body--family,    "Work Sans", system-ui, sans-serif);

    position:        relative;
    min-height:      100svh;
    background:      var(--bg) !important;
    display:         flex;
    align-items:     center;
    justify-content: center;
    overflow:        hidden;
  }

  /* ── Optional background image ───────────────────────────── */
  .e404__bg {
    position: absolute;
    inset:    0;
    z-index:  0;
  }

  .e404__bg-img {
    width:         100%;
    height:        100%;
    object-fit:    cover;
    object-position: center;
    opacity:       0.4;
    filter:        saturate(0) contrast(1.15);
    border-radius: 0 !important;
  }

  /* ── Film-grain overlay ───────────────────────────────────── */
  .e404__grain {
    position:   absolute;
    inset:      0;
    z-index:    1;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.88' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.055'/%3E%3C/svg%3E");
    background-size: 180px;
    mix-blend-mode:  overlay;
    pointer-events:  none;
  }

  /* ── Content block ───────────────────────────────────────── */
  .e404__body {
    position:        relative;
    z-index:         2;
    display:         flex;
    flex-direction:  column;
    align-items:     center;
    justify-content: center;
    gap:             0;
    text-align:      center;
    padding:         2rem;
    user-select:     none;
  }

  /* Big 404 numeral */
  .e404__code {
    font-family:    var(--serif);
    font-weight:    200;
    font-size:      clamp(9rem, 28vw, 22rem);
    line-height:    0.88;
    letter-spacing: 0.06em;
    color:          var(--cream);
    margin:         0;
    opacity:        0.92;
  }

  /* "LOST IN ARCHIVE" label */
  .e404__label {
    font-family:    var(--sans);
    font-size:      0.62rem;
    letter-spacing: 0.36em;
    text-transform: uppercase;
    color:          rgba(240, 237, 229, 0.5);
    margin:         1.8rem 0 0;
  }

  /* CTA link */
  .e404__cta {
    display:         inline-block;
    margin-top:      3.5rem;
    font-family:     var(--sans);
    font-size:       0.58rem;
    letter-spacing:  0.28em;
    text-transform:  uppercase;
    color:           rgba(240, 237, 229, 0.55);
    text-decoration: none;
    border-bottom:   1px solid rgba(240, 237, 229, 0.3);
    padding-bottom:  2px;
    transition:      color 280ms ease, border-color 280ms ease;
  }

  .e404__cta:hover {
    color:        var(--cream);
    border-color: transparent;
  }

  @media (max-width: 767px) {
    .e404__code  { font-size: clamp(7rem, 35vw, 11rem); letter-spacing: 0.04em; }
    .e404__label { font-size: 0.56rem; letter-spacing: 0.28em; }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:general.404",
  "settings": [
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "t:errors.background_image"
    }
  ]
}
{% endschema %}
