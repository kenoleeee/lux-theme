{% doc %}
  Renders a single product card in the High-End Editorial dark theme.
  No background, no borders, no shadows, no border-radius.
  Hover swaps primary photo to product.images[1] when available.

  @param {product} product - The product object to render
  @param {boolean} [offset] - When true adds a vertical stagger margin (even-card offset)

  @example
  {% render 'product-card', product: product %}
  {% render 'product-card', product: product, offset: true %}
{% enddoc %}

<article class="pc{% if offset %} pc--offset{% endif %}">
  <a class="pc__link" href="{{ product.url }}" aria-label="{{ product.title | escape }}">

    {% comment %} ── Media ────────────────────────────────────────────────── {% endcomment %}
    <div class="pc__media">

      {% if product.featured_image %}
        {{ product.featured_image
          | image_url: width: 1200, height: 1600, crop: 'center'
          | image_tag:
            class: 'pc__img pc__img--primary',
            loading: 'lazy',
            widths: '480, 720, 960, 1200',
            sizes: '(max-width: 640px) 100vw, (max-width: 1100px) 50vw, 33vw'
        }}
      {% endif %}

      {% if product.images[1] %}
        {{ product.images[1]
          | image_url: width: 1200, height: 1600, crop: 'center'
          | image_tag:
            class: 'pc__img pc__img--alt',
            loading: 'lazy',
            widths: '480, 720, 960, 1200',
            sizes: '(max-width: 640px) 100vw, (max-width: 1100px) 50vw, 33vw',
            aria_hidden: 'true'
        }}
      {% endif %}

      {% if product.compare_at_price_max > product.price %}
        <span class="pc__badge">{{ 'collections.sale_badge' | t }}</span>
      {% endif %}

    </div>

    {% comment %} ── Info ─────────────────────────────────────────────────── {% endcomment %}
    <div class="pc__info">

      {% if product.vendor != blank %}
        <p class="pc__vendor">{{ product.vendor | escape }}</p>
      {% endif %}

      <h2 class="pc__name">{{ product.title | escape }}</h2>

      <p class="pc__price">
        {% if product.compare_at_price_max > product.price %}
          <s class="pc__price-was">{{ product.compare_at_price_max | money }}</s>
        {% endif %}
        {{ product.price | money }}
      </p>

    </div>

  </a>
</article>

{% stylesheet %}
  /* ── Tokens ──────────────────────────────────────────────── */
  .pc {
    --cream: #f0ede5;
    --muted: rgba(240, 237, 229, 0.48);
    --dark:  #0a0a09;
    --serif: var(--font-heading--family, "Playfair Display", Georgia, serif);
    --sans:  var(--font-body--family,    "Work Sans", system-ui, sans-serif);
  }

  /* ── CARD WRAPPER ────────────────────────────────────────── */
  .pc {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
    margin: 0;
  }

  .pc--offset {
    margin-top: var(--coll-offset, 4rem);
  }

  /* ── LINK ────────────────────────────────────────────────── */
  .pc__link {
    display: block;
    text-decoration: none;
    color: var(--cream);
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    outline-offset: 4px;
  }

  /* ── MEDIA ───────────────────────────────────────────────── */
  .pc__media {
    position: relative;
    overflow: hidden;
    aspect-ratio: 3 / 4;
    background: #111110;
    border-radius: 0 !important;
    border: none !important;
    box-shadow: none !important;
  }

  /* ── IMAGES ──────────────────────────────────────────────── */
  .pc__img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 0 !important;
    border: none !important;
    transition:
      opacity   550ms ease,
      transform 700ms cubic-bezier(0.22, 1, 0.36, 1);
  }

  .pc__img--primary {
    opacity: 1;
    transform: scale(1);
  }

  .pc__img--alt {
    opacity: 0;
    transform: scale(1.05);
  }

  /* swap to alt on hover */
  .pc__link:hover .pc__img--primary,
  .pc__link:focus-visible .pc__img--primary {
    opacity: 0;
    transform: scale(1.05);
  }

  .pc__link:hover .pc__img--alt,
  .pc__link:focus-visible .pc__img--alt {
    opacity: 1;
    transform: scale(1);
  }

  /* no alt image — just scale primary */
  .pc__link:hover .pc__img--primary:only-child {
    opacity: 1;
    transform: scale(1.05);
  }

  /* ── SALE BADGE ──────────────────────────────────────────── */
  .pc__badge {
    position: absolute;
    top: 1rem;
    left: 0;
    z-index: 2;
    background: var(--cream);
    color: var(--dark);
    font-family: var(--sans);
    font-size: 0.55rem;
    letter-spacing: 0.24em;
    text-transform: uppercase;
    padding: 0.28rem 0.6rem;
    border-radius: 0 !important;
    border: none !important;
    box-shadow: none !important;
  }

  /* ── INFO BLOCK ──────────────────────────────────────────── */
  .pc__info {
    /* no padding: text aligns flush with photo edge */
    padding: 0 !important;
    padding-top: 0.9rem !important;
    margin: 0;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    display: flex;
    flex-direction: column;
    gap: 0.28rem;
  }

  /* ── VENDOR ──────────────────────────────────────────────── */
  .pc__vendor {
    font-family: var(--sans);
    font-size: 0.58rem;
    font-weight: 400;
    letter-spacing: 0.24em;
    text-transform: uppercase;
    color: var(--cream);
    opacity: 0.48;
    margin: 0;
    padding: 0;
  }

  /* ── TITLE ───────────────────────────────────────────────── */
  .pc__name {
    font-family: var(--sans);
    font-size: 0.66rem;
    font-weight: 400;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--cream);
    line-height: 1.45;
    margin: 0;
    padding: 0;
  }

  /* ── PRICE ───────────────────────────────────────────────── */
  .pc__price {
    font-family: var(--serif);
    font-style: italic;
    font-size: 1rem;
    font-weight: 400;
    color: var(--cream);
    display: flex;
    align-items: baseline;
    gap: 0.5rem;
    margin: 0.25rem 0 0;
    padding: 0;
  }

  .pc__price-was {
    font-style: normal;
    font-size: 0.76rem;
    color: var(--muted);
    text-decoration: line-through;
  }
{% endstylesheet %}
